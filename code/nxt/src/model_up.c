#include <stdint.h>

#include <math.h>

typedef struct {
    double input_0;
} T_MODEL_INPUT;

typedef struct {
    double output_0;
} T_MODEL_EXECUTION_RESULT;


double sigmoid(double x)
{
     double exp_value;
     double return_value;

     /*** Exponential calculation ***/
     exp_value = exp((double) -x);

     /*** Final sigmoid value ***/
     return_value = 1 / (1 + exp_value);

     return return_value;
}
double WEIGHTS_LAYER_0[1][30] = {
    { 2.48575673618573, 0.05589526602475366, 0.25645598441223005, -0.284841092583677, -0.17605739276763083, 0.1902629666663028, -0.21510356417049073, -0.8210277863258434, -0.0025830606933964968, -0.007234540277541772, -2.3053224816143914, 5.558747895979205, -0.396155073134479, -3.2281090990090884, -0.676843815127155, -0.22910931381029717, -0.06987499555460093, 1.0392834287620307, -0.39694361328744115, 0.05186549320187128, -0.2109117376656516, 0.2273026899289502, -0.304042919443093, -0.23580448468281287, 0.10036477775103798, 3.570175076840572, -2.122678927526998, -0.22957707845888134, -0.15149668650986242, -0.22378389245882888 }
};
double WEIGHTS_LAYER_1[30][1] = {
    { 1.672490452021454 },
    { 37.181870485829045 },
    { -0.19305705976381055 },
    { 0.14763851590188448 },
    { -0.019688379460589697 },
    { 1.694792391546234 },
    { -0.17858928775237953 },
    { 1.5314867742993716 },
    { 2.2714905482551875 },
    { 1.7873955076765053 },
    { -0.06944105381778257 },
    { 1.5051555993111227 },
    { 1.8046261291318422 },
    { -0.01801142383934702 },
    { 1.6506418800225897 },
    { 0.19949250594777337 },
    { 1.5711495561402287 },
    { -0.29061203796495855 },
    { 1.9824084691124428 },
    { 1.9734339849333655 },
    { -0.2427623497480398 },
    { 1.9241314282118052 },
    { 0.9298562062729044 },
    { 0.1730608104512393 },
    { 42.072219027059454 },
    { 1.3909548685656015 },
    { 0.09480596177744875 },
    { 0.19092160008284692 },
    { -0.024539300231255563 },
    { 0.05161402435988941 }
};
double BIAS_LAYER_0[30] = {
    0.1698780690056258, -19.215231153542902, 0.08577621044769757, -0.2012215545716996, 0.1930608751363898, -0.04085225158177152, 0.013472462822092138, 0.1609884720841118, -0.3766544408134608, 0.09181684399054199, 0.10890152248792571, -0.20689185503338778, -0.040350032418127534, -0.03874778051576147, 0.11431513814240914, 0.060104794994652586, 0.033961463470471215, -0.1450791048876967, 0.15002083821397738, -0.1544458885202878, -0.2300705527948375, 0.062121912967068725, -0.16021634667386062, -0.10639936112999702, -20.637095929548163, -0.20981854795193247, 0.16295668562018903, -0.11381762325474203, 0.18513024230079164, 0.06281734498171386
};
double BIAS_LAYER_1[1] = {
    1.6435528776480026
};
T_MODEL_EXECUTION_RESULT calculate_model_up(T_MODEL_INPUT input) {
    double intermediate_result_0[] = { input.input_0 };
    double intermediate_result_1[30];
    for (int i = 0; i < 30; i++) {
        double sum = 0;
        for (int j = 0; j < 1; j++) {
            sum += WEIGHTS_LAYER_0[j][i] * intermediate_result_0[j];
        }
        intermediate_result_1[i] = sigmoid(sum + BIAS_LAYER_0[i]);
    }
    double intermediate_result_2[1];
    for (int i = 0; i < 1; i++) {
        double sum = 0;
        for (int j = 0; j < 30; j++) {
            sum += WEIGHTS_LAYER_1[j][i] * intermediate_result_1[j];
        }
        intermediate_result_2[i] = (sum + BIAS_LAYER_1[i]);
    }
    T_MODEL_EXECUTION_RESULT result;
    result.output_0 = intermediate_result_2[0];
    return result;
}
