\section{Real-time system}\label{Design:RTS} 
In order for the project to qualify as a real-time system it must be able to respond correctly in a timely manner.
In the following section, the design decisions made for the project in regards to ensuring this will be elaborated upon. 

\subsection{Scheduling}\label{Design:Scheduling}
When choosing a scheduling method for the system, multiple methods were considered. 
Both fixed priority scheduling and cyclic executive were considered for the system as both of them would be good at handling the tasks of the system with their deadlines.

Due to the fast execution time of the tasks, and that preemption and context switching would exceed the time for simply completing the previous task, it was at first deemed obvious to use the cyclic executive model as all tasks should run regularly, and that they execute fast enough to run within the major cycle the cyclic execution method should be perfect. 
However, should the execution time of a single task exceed one millisecond, the usage of cyclic executive is no longer viable, as the task to keep the USB connection alive is required to be executed once every millisecond.
In this case, fixed-priority scheduling is a better alternative, as it allows the scheduler to pre-empt the task in order to run the USB related task.

Both the fixed priority and cyclic executive methods are a common ways to implement hard real-time systems due to their simplicity, deterministic behavior and relative ease of implementation\cite{CyclicExecutionKimLarsen}.

In order to make sure that the system is schedulable an UPPAAL model of the scheduler and tasks where created. 
The model is a mathematical prof that the system is schedulable. 

\subsubsection{UPPAAL}
UPPAAL is an integrated tool environment for modeling, validation and verification of real-time systems modeled as networks of timed automata\cite{UPPAALWebsite}. 
Inside the UPPAAL tool an model of the tasks in the system was made. 
On \autoref{fig:UppaalTask} the behaviour of the a task in can be seen. 
The model is a timed automaton which is used to ensure that the task will come true to its deadline and periods. 
\figur{0.5}{images/Task}{The figure shows the final base construction}{fig:UppaalTask}

On \autoref{fig:UppaalScheduler} the model of who the scheduler works can be seen. 
The model 
\figur{0.5}{images/Scheduler}{The figure shows the final base construction}{fig:UppaalScheduler}